<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StarApps_Studio</title>
</head>
<style>
    * {
        margin: 0px;
        padding: 0px;
        font-family: sans-serif;
    }

    #main {
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #images {
        width: 50vw;
        height: 50vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #setImg {
        width: 400px;
    }

    #details {
        width: 50vw;
        height: 50vh;
        display: flex;
        justify-content: center;
        align-items: start;
        flex-direction: column;
        padding-left: 50px;

    }

    #details>h1 {

        color: rgb(56, 48, 38);

    }

    #colorPalette {
        width: 100px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        margin: 30px 0px;
    }

    .btn {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 0px;
    }

    .btn:hover {
        cursor: pointer;
        box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px,
            rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px,
            rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
    }

    .pink {
        background-color: #D53F8C;
    }

    .blue {
        background-color: #3182CE;
    }

    .yellow {
        background-color: #D69E2E;
    }

    .uploadDetails>h4 {
        margin-bottom: 5px;
    }

    .uploadDetails>p {
        font-size: 12px;
        margin-bottom: 10px;
    }

    #upload {
        width: 270px;
        height: 30px;
        font-weight: 600;
        color: white;
        background-color: #3182CE;
        border: 0px;
        cursor: pointer;
    }


    svg {
        display: none;
        width: 150px;
        height: 150px;
        fill: #3182CE;
        animation: rotate-keyframe linear 5s infinite;
    }

    @keyframes rotate-keyframe {
        0% {
            transform: rotate(0deg);
        }

        25% {
            transform: rotate(90deg);
        }

        50% {
            transform: rotate(180deg);
        }

        75% {
            transform: rotate(270deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>

<body>
    <div id="main">

        <div id="images">
            <div id="imageContainer">
                <div id="loader">
                    <svg id="loaderSvg" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 28.3 31.2"
                        width="28.3" height="31.2" version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M25.1 23.6c-.3.1-.6.2-1 .2-.6.1-1.3 0-2.1.1s-1.7.3-2.6.8c-.8.5-1.4 1.1-1.9 1.6-.7.9-1.1 1.7-1.5 2.2-.2.3-.4.4-.7.6-.2.1-.4.2-.8.2v-13L26 22.9c-.3.3-.6.5-.9.7m-11.3 5.9c-.5-.1-.8-.2-1-.4-.2-.2-.5-.4-.7-.7-.3-.5-.7-1.1-1.2-1.7-.5-.7-1.1-1.3-2.1-1.9-.8-.5-1.6-.7-2.3-.8-1.1-.2-2-.1-2.7-.2l-.9-.3c-.2-.1-.4-.3-.6-.6l11.4-6.6v13.2zM1.7 21.3c0-.3.1-.6.2-1 .2-.5.6-1.1.9-1.9.3-.8.6-1.7.6-2.8v-.1c0-1.5-.6-2.6-1-3.5l-.6-1.2c-.1-.4-.2-.7-.2-1 0-.3.1-.6.2-1l11.4 6.6-11.3 6.8c-.1-.4-.2-.7-.2-.9M3.2 7.6c.3-.1.6-.2 1-.2.6-.1 1.3 0 2.1-.1.7-.2 1.6-.4 2.5-.9.8-.5 1.4-1.1 1.9-1.6.7-.9 1.1-1.7 1.5-2.2.2-.3.4-.4.7-.6.2-.1.5-.2.8-.2V15L2.3 8.3c.3-.4.6-.6.9-.7m11.3-5.9c.5 0 .8.2 1 .4.2.2.5.4.7.7.3.5.7 1.1 1.2 1.7.5.7 1.1 1.3 2.1 1.9.8.5 1.6.7 2.4.8 1.1.1 2 .1 2.7.2l.9.3c.2.1.4.3.6.6l-11.4 6.6V1.7zm12.1 8.2c0 .3-.1.6-.2 1-.2.5-.6 1.1-.9 1.9-.3.8-.6 1.7-.6 2.8v.2c0 1.5.5 2.6 1 3.5l.6 1.2c.1.4.2.7.2 1 0 .3-.1.6-.2.9l-11.4-6.6L26.3 9c.2.4.3.7.3.9m.4 7.8c-.3-.6-.5-1.3-.5-2v-.1c0-1 .4-1.8.8-2.7.2-.4.5-.8.6-1.3.2-.5.3-1 .3-1.6 0-.7-.2-1.4-.6-2.1-.5-.8-1.1-1.4-1.8-1.7-.5-.2-1-.3-1.5-.4-.7-.1-1.4-.1-2.1-.1-.7-.1-1.3-.2-1.9-.6-.6-.3-1-.7-1.4-1.2-.5-.9-.9-1.7-1.6-2.5-.3-.4-.7-.8-1.3-1-.5-.3-1.1-.4-1.9-.4-1 0-1.8.2-2.4.7-.5.3-.8.7-1.1 1.1-.4.6-.7 1.2-1.1 1.7-.4.5-.8 1-1.5 1.4-.6.4-1.2.5-1.8.6-.9.1-1.8 0-2.8.2-.5.1-1 .3-1.5.7-.5.3-.9.8-1.3 1.4C.2 8.5 0 9.3 0 10c0 .6.1 1.1.3 1.6.3.7.7 1.3 1 2 .3.6.5 1.3.5 2.1v.1c0 1.1-.4 1.8-.8 2.7-.2.4-.5.8-.6 1.3-.2.5-.3 1-.3 1.6 0 .7.2 1.4.6 2.1.5.8 1.1 1.4 1.8 1.7.5.2 1 .3 1.5.4.7.1 1.4.1 2.1.1.7.1 1.3.2 2 .6.6.3 1 .7 1.4 1.2.5.7.9 1.5 1.6 2.3.3.4.7.7 1.3 1 .5.3 1.2.4 1.9.4 1 0 1.8-.3 2.4-.7.5-.3.8-.7 1.1-1.1.4-.6.8-1.2 1.2-1.7.4-.5.8-1 1.5-1.4.6-.3 1.1-.5 1.7-.6.9-.1 1.8 0 2.8-.2.5-.1 1-.3 1.5-.6s.9-.8 1.3-1.4c.4-.7.6-1.5.6-2.1 0-.6-.1-1.1-.3-1.6-.5-.9-.8-1.5-1.1-2.1">
                        </path>
                    </svg>
                </div>

                <img src="../img/Blue umbrella.png" alt="blue" id="setImg">
            </div>
        </div>

        <div id="details">
            <h1>Custom Umbrella</h1>
            <div id="colorPalette">
                <button class="btn pink" name="pink" onclick=`${colorPalette(name)}`></button>
                <button class="btn blue" name="blue" onclick=`${colorPalette(name)}`></button>
                <button class="btn yellow" name="yellow" onclick=`${colorPalette(name)}`></button>
            </div>
            <div class="uploadDetails">
                <h4>Customized your umbrella</h4>
                <p>Upload a logo for an instant preview</p>
                <p>.png and .jpg files only, Max file size is 5MB</p>
            </div>
            <button id="upload">UPLOAD LOGO</button>
        </div>

    </div>
</body>
<script src="./index.js"></script>

</html>
<script>
    let UmbrellaArr = [
        { umbrella: "../img/Pink umbrella.png", color: "pink", background: "#FFF5F7", colorBtn: "#D53F8C" },
        { umbrella: "../img/Blue umbrella.png", color: "blue", background: "#EBF8FF", colorBtn: "#3182CE" },
        { umbrella: "../img/Yellow umbrella.png", color: "yellow", background: "#FFFFF0", colorBtn: "#D69E2E" },
    ];

    let main = document.getElementById("main");
    let setImg = document.getElementById("setImg");
    let upload = document.getElementById("upload");
    let loaderSvg = document.getElementById("loaderSvg");

    async function colorPalette(colorFromBtn) {
        setImg.src = "";
        let filter = UmbrellaArr.filter((item) => item.color === colorFromBtn)[0];
        console.log('filter:', filter)
        loaderSvg.style.fill = `${filter.colorBtn}`
        //loader.style.display = "block";
        main.style.backgroundColor = `${filter.background}`;
        upload.style.backgroundColor = `${filter.colorBtn}`;


        let result = await new Promise((resolve) => {

            setImg.onload = resolve;

            setImg.src = `${filter.umbrella}`;

            setImg.style.display = "none";

            loaderSvg.style.display = "block";
        });

        loaderSvg.style.display = "none"

        setImg.style.display = "block";


        console.log("Image Set Successfully")
    }






</script>